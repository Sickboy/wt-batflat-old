!function(e){"use strict";function t(t){function s(){var s=e(this);if(void 0===s.data("kalypto")){var n=new e.kalypto(this,t);s.data("kalypto",n)}else console.log("Kalypto is already defined on this element.",s)}return this.each(s)}function s(t,s){function n(){d.settings=e.extend({},o,s),i(),a()}function i(){function e(){var e=d.settings.toggleClass;if(d.settings.copyInputClasses){var t=g.attr("class");t&&(e+=" "+t)}return d.settings.customClasses.length&&(e+=" "+d.settings.customClasses),g.is("[disabled]")&&(e+=" disabled"),g.is(":checked")?'<a href="#" class="'+e+" "+d.settings.checkedClass+'">'+d.settings.dataLabel+"</a>":'<a href="#" class="'+e+'">'+d.settings.dataLabel+"</a>"}g.next().hasClass(d.settings.toggleClass)||(g.after(e),d.settings.hideInputs&&g.hide(),l=g.next(),g.trigger(d.settings.elBuiltEvent))}function a(){g.next().bind("click",c),g.bind("change",c)}function c(t){function s(){"radio"===g.attr("type")&&i.each(n),g.trigger(g.is(":checked")?d.settings.checkedEvent:d.settings.uncheckedEvent),g.next().toggleClass(d.settings.checkedClass)}function n(t,s){var n=e(s);n.next().removeClass(d.settings.checkedClass),n.is(":checked")||d.lastClickedEl===n.next().get(0)||n.trigger(d.settings.uncheckedEvent)}var i="radio"===g.attr("type")?e('input[name="'+g.attr("name")+'"]'):g;if("INPUT"!==this.tagName){if(t.preventDefault(),g.is("[disabled]"))return;d.lastClickedEl=this,g.trigger("click")}else setTimeout(s,0)}var l,d=this,g=e(t),o={toggleClass:"toggle",checkedClass:"checked",hideInputs:!0,copyInputClasses:!0,dataLabel:g.data("label")||"",checkedEvent:"k_checked",uncheckedEvent:"k_unchecked",elBuiltEvent:"k_elbuilt",customClasses:""};d.settings={},d.init=n,d.init()}e.kalypto=s,e.fn.kalypto=t}(jQuery);